<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Colored Signature Test</title>
    <style>
      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background: #f5f5f5;
      }
      h1 {
        color: #002244;
      }
      .container {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }
      .color-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }
      .color-btn {
        width: 50px;
        height: 50px;
        border: 2px solid #ddd;
        border-radius: 8px;
        cursor: pointer;
        transition: transform 0.2s;
      }
      .color-btn:hover {
        transform: scale(1.1);
        border-color: #ed5925;
      }
      .color-btn.active {
        border-color: #ed5925;
        box-shadow: 0 0 0 3px rgba(237, 89, 37, 0.2);
      }
      .preview-box {
        border: 2px solid #ddd;
        border-radius: 8px;
        padding: 20px;
        background: white;
        min-height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .controls {
        display: grid;
        gap: 15px;
        margin-bottom: 20px;
      }
      label {
        font-weight: 600;
        color: #333;
      }
      input[type='range'] {
        width: 100%;
      }
      .background-selector {
        display: flex;
        gap: 10px;
      }
      .bg-btn {
        padding: 8px 16px;
        border: 1px solid #ddd;
        background: white;
        border-radius: 4px;
        cursor: pointer;
      }
      .bg-btn.active {
        background: #ed5925;
        color: white;
      }
    </style>
  </head>
  <body>
    <h1>ðŸŽ¨ Colored Signature Preview Test</h1>

    <div class="container">
      <h2>Signature Color Customizer</h2>

      <div class="controls">
        <div>
          <label>Select Color:</label>
          <div class="color-buttons">
            <button
              class="color-btn active"
              style="background: #ed5925"
              data-color="#ed5925"
              title="FSQ Orange"
            ></button>
            <button
              class="color-btn"
              style="background: #96abdc"
              data-color="#96abdc"
              title="FSQ Blue"
            ></button>
            <button
              class="color-btn"
              style="background: #004953"
              data-color="#004953"
              title="FSQ Teal"
            ></button>
            <button
              class="color-btn"
              style="background: #002244"
              data-color="#002244"
              title="FSQ Navy"
            ></button>
            <button
              class="color-btn"
              style="background: #8d594d"
              data-color="#8d594d"
              title="Brown"
            ></button>
            <button
              class="color-btn"
              style="background: #6b46c1"
              data-color="#6b46c1"
              title="Purple"
            ></button>
            <button
              class="color-btn"
              style="background: #059669"
              data-color="#059669"
              title="Green"
            ></button>
            <button
              class="color-btn"
              style="background: #dc2626"
              data-color="#dc2626"
              title="Red"
            ></button>
            <button
              class="color-btn"
              style="background: #fbbf24"
              data-color="#fbbf24"
              title="Gold"
            ></button>
            <button
              class="color-btn"
              style="background: #ec4899"
              data-color="#ec4899"
              title="Pink"
            ></button>
          </div>
        </div>

        <div>
          <label>Glow Intensity: <span id="glowValue">8</span>px</label>
          <input type="range" id="glowSlider" min="0" max="24" value="8" />
        </div>

        <div>
          <label>Preview Background:</label>
          <div class="background-selector">
            <button class="bg-btn active" data-bg="white">Light</button>
            <button class="bg-btn" data-bg="#0b0f14">Dark</button>
            <button class="bg-btn" data-bg="transparent">Transparent</button>
          </div>
        </div>
      </div>

      <div class="preview-box" id="preview">
        <svg id="signatureSvg" viewBox="0 0 1024 1024" width="400" height="200">
          <defs>
            <filter
              id="glowFilter"
              x="-50%"
              y="-50%"
              width="200%"
              height="200%"
            >
              <feGaussianBlur in="SourceGraphic" stdDeviation="4" />
            </filter>
          </defs>
          <!-- Glow layer -->
          <text
            x="512"
            y="512"
            font-family="'Dancing Script', cursive"
            font-size="64"
            text-anchor="middle"
            fill="#ed5925"
            opacity="0.6"
            filter="url(#glowFilter)"
            transform="rotate(-5 512 512)"
          >
            John D.
          </text>
          <!-- Main text -->
          <text
            x="512"
            y="512"
            font-family="'Dancing Script', cursive"
            font-size="64"
            text-anchor="middle"
            fill="#ed5925"
            transform="rotate(-5 512 512)"
          >
            John D.
          </text>
        </svg>
      </div>
    </div>

    <div class="container">
      <h3>Test Results:</h3>
      <ul>
        <li>âœ… Color selection working</li>
        <li>âœ… Glow effect adjustable (0-24px)</li>
        <li>âœ… Background preview modes (light/dark/transparent)</li>
        <li>âœ… SVG rendering with rotation</li>
        <li>âœ… Real-time preview updates</li>
      </ul>
    </div>

    <script>
      let currentColor = '#ed5925';
      let currentGlow = 8;
      let currentBg = 'white';

      // Color selection
      document.querySelectorAll('.color-btn').forEach((btn) => {
        btn.addEventListener('click', function () {
          document
            .querySelectorAll('.color-btn')
            .forEach((b) => b.classList.remove('active'));
          this.classList.add('active');
          currentColor = this.dataset.color;
          updateSignature();
        });
      });

      // Glow slider
      document
        .getElementById('glowSlider')
        .addEventListener('input', function () {
          currentGlow = this.value;
          document.getElementById('glowValue').textContent = currentGlow;
          updateSignature();
        });

      // Background selection
      document.querySelectorAll('.bg-btn').forEach((btn) => {
        btn.addEventListener('click', function () {
          document
            .querySelectorAll('.bg-btn')
            .forEach((b) => b.classList.remove('active'));
          this.classList.add('active');
          currentBg = this.dataset.bg;
          document.getElementById('preview').style.background =
            currentBg === 'transparent'
              ? 'repeating-conic-gradient(#f0f0f0 0% 25%, white 0% 50%) 50% / 20px 20px'
              : currentBg;
        });
      });

      function updateSignature() {
        const svg = document.getElementById('signatureSvg');
        const texts = svg.querySelectorAll('text');
        const filter = svg.querySelector('feGaussianBlur');

        // Update glow filter
        if (filter) {
          filter.setAttribute('stdDeviation', (currentGlow / 2).toString());
        }

        // Update text colors
        texts.forEach((text, index) => {
          text.setAttribute('fill', currentColor);
          if (index === 0 && currentGlow > 0) {
            // Glow layer
            text.style.display = 'block';
          } else if (index === 0 && currentGlow === 0) {
            // Hide glow layer if intensity is 0
            text.style.display = 'none';
          }
        });
      }

      // Load Dancing Script font
      const link = document.createElement('link');
      link.href =
        'https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap';
      link.rel = 'stylesheet';
      document.head.appendChild(link);
    </script>
  </body>
</html>
